{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, ViewChild } from '@angular/core';\nexport let ImageSelectorComponent = class ImageSelectorComponent {\n  constructor(imageService) {\n    this.imageService = imageService;\n    this.fileName = '';\n    this.title = '';\n  }\n  ngOnInit() {\n    this.getImages();\n  }\n  /* Methods */\n  onFileUploadChange(event) {\n    const element = event.currentTarget;\n    this.file = element.files?.[0];\n  }\n  uploadImage() {\n    if (this.file && this.fileName !== '' && this.title !== '') {\n      this.imageService.uploadImage(this.file, this.fileName, this.title).subscribe({\n        next: res => {\n          this.imageUploadForm?.resetForm();\n          this.getImages();\n        }\n      });\n    }\n  }\n  getImages() {\n    this.images$ = this.imageService.getAllImages();\n  }\n};\n__decorate([ViewChild('form', {\n  static: false\n})], ImageSelectorComponent.prototype, \"imageUploadForm\", void 0);\nImageSelectorComponent = __decorate([Component({\n  selector: 'app-image-selector',\n  templateUrl: './image-selector.component.html',\n  styleUrls: ['./image-selector.component.css']\n})], ImageSelectorComponent);","map":{"version":3,"names":["Component","ViewChild","ImageSelectorComponent","constructor","imageService","fileName","title","ngOnInit","getImages","onFileUploadChange","event","element","currentTarget","file","files","uploadImage","subscribe","next","res","imageUploadForm","resetForm","images$","getAllImages","__decorate","static","selector","templateUrl","styleUrls"],"sources":["/Users/obakengtaphane/Desktop/Projects/blogTech/UI/blogtech/src/app/shared/components/image-selector/image-selector.component.ts"],"sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ImageService } from './image.service';\nimport { Observable } from 'rxjs';\nimport { BlogImage } from '../../models/blog-image-model';\nimport { NgForm } from '@angular/forms';\n\n@Component({\n  selector: 'app-image-selector',\n  templateUrl: './image-selector.component.html',\n  styleUrls: ['./image-selector.component.css'],\n})\nexport class ImageSelectorComponent implements OnInit {\n  private file?: File;\n  fileName: string = '';\n  title: string = '';\n  images$?: Observable<BlogImage[]>;\n\n  @ViewChild('form', { static: false }) imageUploadForm?: NgForm;\n\n  constructor(private imageService: ImageService) {}\n  ngOnInit(): void {\n    this.getImages();\n  }\n\n  /* Methods */\n  onFileUploadChange(event: Event): void {\n    const element = event.currentTarget as HTMLInputElement;\n    this.file = element.files?.[0];\n  }\n  uploadImage(): void {\n    if (this.file && this.fileName !== '' && this.title !== '') {\n      this.imageService\n        .uploadImage(this.file, this.fileName, this.title)\n        .subscribe({\n          next: (res) => {\n            this.imageUploadForm?.resetForm();\n            this.getImages();\n          },\n        });\n    }\n  }\n\n  private getImages() {\n    this.images$ = this.imageService.getAllImages();\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,EAAUC,SAAS,QAAQ,eAAe;AAWrD,WAAMC,sBAAsB,GAA5B,MAAMA,sBAAsB;EAQjCC,YAAoBC,YAA0B;IAA1B,KAAAA,YAAY,GAAZA,YAAY;IANhC,KAAAC,QAAQ,GAAW,EAAE;IACrB,KAAAC,KAAK,GAAW,EAAE;EAK+B;EACjDC,QAAQA,CAAA;IACN,IAAI,CAACC,SAAS,EAAE;EAClB;EAEA;EACAC,kBAAkBA,CAACC,KAAY;IAC7B,MAAMC,OAAO,GAAGD,KAAK,CAACE,aAAiC;IACvD,IAAI,CAACC,IAAI,GAAGF,OAAO,CAACG,KAAK,GAAG,CAAC,CAAC;EAChC;EACAC,WAAWA,CAAA;IACT,IAAI,IAAI,CAACF,IAAI,IAAI,IAAI,CAACR,QAAQ,KAAK,EAAE,IAAI,IAAI,CAACC,KAAK,KAAK,EAAE,EAAE;MAC1D,IAAI,CAACF,YAAY,CACdW,WAAW,CAAC,IAAI,CAACF,IAAI,EAAE,IAAI,CAACR,QAAQ,EAAE,IAAI,CAACC,KAAK,CAAC,CACjDU,SAAS,CAAC;QACTC,IAAI,EAAGC,GAAG,IAAI;UACZ,IAAI,CAACC,eAAe,EAAEC,SAAS,EAAE;UACjC,IAAI,CAACZ,SAAS,EAAE;QAClB;OACD,CAAC;;EAER;EAEQA,SAASA,CAAA;IACf,IAAI,CAACa,OAAO,GAAG,IAAI,CAACjB,YAAY,CAACkB,YAAY,EAAE;EACjD;CACD;AA5BuCC,UAAA,EAArCtB,SAAS,CAAC,MAAM,EAAE;EAAEuB,MAAM,EAAE;AAAK,CAAE,CAAC,C,8DAA0B;AANpDtB,sBAAsB,GAAAqB,UAAA,EALlCvB,SAAS,CAAC;EACTyB,QAAQ,EAAE,oBAAoB;EAC9BC,WAAW,EAAE,iCAAiC;EAC9CC,SAAS,EAAE,CAAC,gCAAgC;CAC7C,CAAC,C,EACWzB,sBAAsB,CAkClC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}